<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Интерактивная игра "TECNO AI EXPERT"</title>
    <link rel="icon" href="aitecnoicon.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Модальное окно для ввода данных -->
    <div id="namesModal" class="modal">
        <div class="modal-content">
            <h1 class="game-title-modal">TECNO AI EXPERT</h1>
            
            <!-- Кнопка таблицы лидеров между названием и формой -->
            <div class="leaderboard-modal-section">
                <button id="leaderboardBtnFromModal" class="leaderboard-btn">
                    <i class="fas fa-trophy"></i> Таблица лидеров
                </button>
            </div>
            
            <h3 class="modal-subtitle">Введите данные участников</h3>
            <div class="form-group">
                <label for="participantName">Имя и фамилия участника:</label>
                <input type="text" id="participantName" placeholder="Введите имя и фамилию участника">
            </div>
            <div class="form-group">
                <label for="participantRole">Должность участника:</label>
                <input type="text" id="participantRole" placeholder="Введите должность участника">
            </div>
            <div class="form-group">
                <label for="hostName">Имя и фамилия ведущего:</label>
                <input type="text" id="hostName" placeholder="Введите имя и фамилию ведущего">
            </div>
            <div class="form-group">
                <label for="network">Сеть:</label>
                <select id="network" required>
                    <option value="">Выберите сеть</option>
                    <option value="ДНС">ДНС</option>
                    <option value="М.Видео">М.Видео</option>
                    <option value="Эльдорадо">Эльдорадо</option>
                    <option value="Телемаркет24">Телемаркет24</option>
                    <option value="МТС">МТС</option>
                    <option value="Билайн">Билайн</option>
                    <option value="Мегафон">Мегафон</option>
                    <option value="TELECOM">TELECOM</option>
                </select>
            </div>
            <div class="form-group" id="telecomNetworkGroup" style="display: none;">
                <label for="telecomNetworkName">Название сети TELECOM:</label>
                <input type="text" id="telecomNetworkName" placeholder="Введите название сети TELECOM (необязательно)">
            </div>
            <div class="form-group">
                <label for="city">Город:</label>
                <input type="text" id="city" placeholder="Введите город">
            </div>
            <div class="form-group">
                <label for="storeAddress">Адрес магазина:</label>
                <input type="text" id="storeAddress" placeholder="Введите адрес магазина">
            </div>
            <div class="form-group">
                <label for="storeCode">Код точки:</label>
                <input type="text" id="storeCode" placeholder="Введите код точки">
            </div>
            <div class="form-group">
                <label for="deviceModel">Модель устройства:</label>
                <input type="text" id="deviceModel" placeholder="Например, TECNO POVA 6" required>
            </div>
            <div class="form-group confirmation-checkbox">
                <input type="checkbox" id="dataConfirmation" required>
                <label for="dataConfirmation">Подтверждаю, что введённые мною (ведущим) данные являются полностью верными.</label>
            </div>
            <div class="modal-buttons">
                <button id="startGameBtn">Начать игру</button>
            </div>

            <!-- Скрытая кнопка для тестового входа -->
            <div id="secretTrigger" style="position: absolute; bottom: 10px; right: 10px; width: 60px; height: 60px; opacity: 0.01; cursor: pointer; z-index: 1000;"></div>
        </div>
    </div>

    <!-- Модальное окно для пропуска карточки -->
    <div id="skipModal" class="modal">
        <div class="modal-content">
            <h2>Почему была пропущена карточка?</h2>
            <div class="form-group">
                <label for="skipReason">Комментарий:</label>
                <textarea id="skipReason" placeholder="Опишите причину пропуска карточки"></textarea>
            </div>
            <div class="modal-buttons">
                <button id="submitSkipBtn">Отправить</button>
                <button id="cancelSkipBtn">Отмена</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно с пояснением задания -->
    <div id="explanationModal" class="modal">
        <div class="modal-content">
            <h2 id="explanationTitle">Пояснение задания</h2>
            <div class="form-group">
                <p id="explanationText">Здесь будет пояснение к заданию</p>
            </div>
            <div class="modal-buttons two-column">
                <button id="closeExplanationBtn">ОК</button>
                <button id="skipFromExplanationBtn">Пропустить</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно для обратной связи -->
    <div id="feedbackModal" class="modal">
        <div class="modal-content">
            <h2>Обратная связь от ведущего</h2>
            <div class="form-group">
                <label for="feedback">Комментарии и впечатления от игры:</label>
                <textarea id="feedback" placeholder="Опишите ваши впечатления от игры, поведение участника, сложности и т.д." required></textarea>
            </div>
            <div class="modal-buttons">
                <button id="submitFeedbackBtn">Отправить и завершить</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно для секретного входа -->
    <div id="secretLoginModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Секретный вход</h2>
            <div class="form-group">
                <label for="secretPassword">Пароль:</label>
                <input type="password" id="secretPassword" placeholder="Введите пароль">
            </div>
            <div class="modal-buttons">
                <button id="secretLoginBtn">Войти</button>
                <button id="cancelSecretLoginBtn">Отмена</button>
            </div>
        </div>
    </div>

    <!-- Скрытые формы для отправки данных -->
    <form id="submit-to-google-sheet" style="display: none;">
        <input name="Host" type="text" id="form-host">
        <input name="Participant" type="text" id="form-participant">
        <input name="ParticipantRole" type="text" id="form-participant-role">
        <input name="Card" type="text" id="form-card">
        <input name="Time" type="text" id="form-time">
        <input name="Status" type="text" id="form-status">
        <input name="Comment" type="text" id="form-comment">
        <input name="Round" type="text" id="form-round">
        <input name="Network" type="text" id="form-network">
        <input name="TelecomNetworkName" type="text" id="form-telecom-network-name">
        <input name="City" type="text" id="form-city">
        <input name="StoreAddress" type="text" id="form-store-address">
        <input name="StoreCode" type="text" id="form-store-code">
        <input name="LocalTimestamp" type="text" id="form-local-timestamp">
        <input name="DeviceModel" type="text" id="form-device-model">
        <button type="submit" id="form-submit-btn">Send</button>
    </form>

    <form id="submit-summary-to-google-sheet" style="display: none;">
        <input name="Participant" type="text" id="form-summary-participant">
        <input name="ParticipantRole" type="text" id="form-summary-participant-role">
        <input name="Host" type="text" id="form-summary-host">
        <input name="City" type="text" id="form-summary-city">
        <input name="Network" type="text" id="form-summary-network">
        <input name="TelecomNetworkName" type="text" id="form-summary-telecom-network-name">
        <input name="StoreCode" type="text" id="form-summary-store-code">
        <input name="StoreAddress" type="text" id="form-summary-store-address">
        <input name="LocalTimestamp" type="text" id="form-summary-timestamp">
        <input name="CompletedCount" type="text" id="form-summary-completed-count">
        <input name="TotalTime" type="text" id="form-summary-total-time">
        <input name="Feedback" type="text" id="form-summary-feedback">
        <input name="DeviceModel" type="text" id="form-summary-device-model">
        <button type="submit" id="form-summary-submit-btn">Send</button>
    </form>

    <!-- Основной контент игры -->
    <div class="main-content">
        <header>
            <h1>TECNO AI EXPERT</h1>
            <div class="leaderboard-section">
                <button id="leaderboardBtn" class="leaderboard-btn">
                    <i class="fas fa-trophy"></i> Таблица лидеров
                </button>
            </div>
            <div class="instructions">
                <p>Кликните на карточку, чтобы перевернуть её и увидеть текст. Карточки перемешиваются при каждом раунде.</p>
            </div>
        </header>

        <div class="game-container">
            <div class="round-info" id="roundInfo">
                Раунд: <span id="currentRound">1</span> из 6
            </div>

            <div class="cards-grid" id="cardsGrid">
                <!-- Карточки будут сгенерированы с помощью JavaScript -->
            </div>

            <div class="timer-container">
                <h2>Секундомер</h2>
                <div class="timer" id="timer">00:00.00</div>
                <div class="controls">
                    <button id="startBtn" disabled>Старт</button>
                    <button id="stopBtn" disabled>Стоп</button>
                </div>
            </div>

            <div class="controls">
                <button id="doneBtn" disabled>Сделано</button>
                <button id="skipBtn" disabled>Пропущено</button>
            </div>

            <div class="loading" id="loadingIndicator">
                <div class="loading-spinner"></div>
                <p>Отправка данных...</p>
            </div>

            <div class="success-message" id="successMessage">
                <p>✓ Данные успешно отправлены!</p>
            </div>

            <div class="results-table" id="resultsTable">
                <h2>Результаты игры</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Раунд</th>
                            <th>Карточка</th>
                            <th>Время</th>
                            <th>Статус</th>
                        </tr>
                    </thead>
                    <tbody id="resultsBody">
                        <!-- Результаты будут добавляться с помощью JavaScript -->
                    </tbody>
                </table>
                <div id="summaryResults" style="margin-top: 20px; display: none;">
                    <h3>Итоги игры</h3>
                    <p>Выполнено заданий: <span id="completedCount">0</span> из 6</p>
                    <p>Общее время: <span id="totalTime">00:00.00</span></p>
                </div>
            </div>

            <!-- Кнопка "Заново" для тестового режима -->
            <div id="restartGameContainer" style="display: none; margin-top: 20px;">
                <button id="restartGameBtn" style="background: linear-gradient(45deg, #4CAF50 0%, #45a049 100%);">
                    <i class="fas fa-redo"></i> Заново
                </button>
            </div>
        </div>

        <footer>
            <p>Интерактивная игра "TECNO AI EXPERT" &copy; 2025</p>
        </footer>
    </div>

    <!-- Подключаем отдельные JS файлы -->
    <script src="modals.js"></script>
    <script src="random-data.js"></script>
    <script src="game.js"></script>
</body>
</html>
